database-k8s-operator has been deployed successfully!

1. Create root user credentials Secret:

  kubectl create secret generic mysql-root-credentials --from-literal password=rootsecret

2. Create user credentials Secret for your new db:

  kubectl create secret generic myapp-db-credentials --from-literal password=mysecret

3. Create Database resource:

  myapp-database.yaml
  ------------------------
  apiVersion: "jakub-bacic.github.com/v1alpha1"
  kind: "Database"
  metadata:
    name: "myapp-db"
  spec:
    database:
      name: myappdb
      user: myappdb_user
      passwordSecretRef:
        name: myapp-db-credentials
        key: password
    databaseServer:
      type: mysql
      host: 127.0.0.1
      port: 3306
      rootUser: root
      rootPasswordSecretRef:
        name: mysql-root-credentials
        key: password
    options:
      dropOnDelete: true

  kubectl create -f myapp-database.yaml

4. List defined databases in cluster:

  kubectl get databases

  or using short forms:

  {{- range .Values.databaseResourceShortNames }}
  kubectl get {{ . }}
  {{- end }}

When the Database resource is deleted, associated database and user in database server
are dropped by default. This behavior can be changed by modifying dropOnDelete option
in Database spec.
